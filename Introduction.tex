\chapter{Introduction}

\section{Context and Motivation}

Climate models are representations of factors that have impacts on climate, described by mathematical equations based on the law of physics. Main factors that can affect the climate are the atmosphere, oceans, living creatures, land exterior, ice, and energy produced by the Sun. Together with other sophisticated elements such as cloud, rainfall, water evaporation, etc., these climate models are put into use in order to achieve various objectives such as studying the tendencies of climate systems or estimating future climate. Not only incoming energy emitted from the sun, as mentioned above, is taken into consideration in the form of short-wave electromagnetic radiation, but also outgoing long-wave infrared electromagnetic one. With both of these radations are taken into account, any changes that cause imbalance between the two will result in a change in temperature, thus changing the climate. \\
~\\
Climate models, with the way their data and computations are processed, have benefited greatly from exploiting parallelism, especially with vector processors and the recently extended Single Instruction Multiple Data parallel paradigm. However, most of the climate models today are computed in cluster-based computer with large, powerful microprocessors, which are unable to fully utilize parallelism to a greater extent. This is due to the fact that CPUs lack the necessary memory bandwidth to obtain such level of parallelism, no matter how powerful the CPU can be.\\
~\\
University of Science and Technology of Hanoi (USTH) research lab REMOSAT, led by Assoc. Prof Ngo Duc Thanh, has been in urgent need for perfomance boost and computation time acceleration of the climate models running in the lab, specifically, the Regional Climate Model system, or RegCM for short. In this context, the goal of the internship is to investigate possible usage of GPU in climate models simulation performed by the REMOSAT research lab to speed up its processing time.\\

\section{Regional Climate Model system(RegCM)}

The Regional Climate Model system, also known as RegCM, unlike other global climate models, was developed using Fortran as a limited area model for the purpose of long term simulation in specific regions. RegCM is meant to be used as a public, open source software that is user-friendly and portable enough to be apply in any domains in the world. Being a community model, and is designed to be applied in a vast number of communities, RegCM has partaken in a large number of regional climate projects, and has been aiding various climate studies and future climate predictions. \\
~\\
Originally created by the National Center of Atmospheric Research(NCAR) back in 1989, it has now evolved over time after numerous of patches and a few major updates. As of the most recent release, RegCM4, the program contains many upgrades and new features compare to previous versions. Most noticably, RegCM has now improved on flexibility, portablity and user friendliness, and is now fully supported by the Earth Physics System, as the developers commented in the Documentation. \\
~\\
A typical run of Regional Climate Model system consists of two main parts. First, based on the global dataset, the system will generate input data for the simulation, including the domain of simulation, sea surface temparature, initial condition, boundary condition, and other optional dataset. After being succesfully produced, these input data are put in the RegCM program to run the simulation. It is worth mentioning that RegCM supports Open Message Passing Interface(OpenMPI), which is a standard API for parallel/distributed computing built on the Message Passing parallel model. Upon completing, the program will generate output models of the simulation, containing information on atmosphere status, surface diagnostic variables, radiation fluxes, and a save point that holds the model's status at the end of the run, which enables the simulation to restart at that point, thus allowing the user to split a long simulation into much many shorter ones. \\

\section{Limitation of RegCM}

While having full OpenMPI support, meaning that it can run simulation in parallel using the Message Passing parallel paradigm, RegCM still has some limitations in its parallelism. First and foremost, since the method of implementing parallelization is OpenMPI, CPU-based parallelism is utilize while running simulations, which imply the above mention retriction about lack of memory bandwidth, especially when parallel processes need to exchange data with each other. Moreover, CPU parallelization limits the number of processes can run simutaneously to no more than the number of logical cores the CPU has, which can hurt the performance on lower core count CPUs. Another drawback that the developers have pointed out regarding RegCM's parallel implementation is that it current has no form of parallel I/O, indicate that not all processes can have access to the data at the same time. \\

\section{Host Institution}

ICTLab of University of Science and Technology of Hanoi (USTH) is a joint international research laboratory in the field of Information and Communication Technology (ICT) between USTH and other French partners. The lab has researchers from USTH, Institute of Information Technology (IOIT) of Vietnam Academy of Science and Technology (VAST), Institut de Recherche pour le DÃ©velopment (IRD) and the University of La Rochelle, France. [1] \\
~\\
The ICTLab was created on December 1st, 2014, supported by USTH, French Embassy in Vietnam, 13 French high education institutes and universities (namely, USTH Consortium), and the Asian Development Bank (ADB). [1] \\
~\\
The researches of ICTLab focus on two main applicative axes: Cultural heritage preservation and promotion, and Environmental protection and Environmental risk management. Fundamental research programs targets common scientific activities, such as Modeling, Image Processing and Analysis, Machine Learning, Expert User Interaction, Geographical Information Systems, Information Retrieval, and Sensor . [1] \\
~\\
Regarding to these research activities, ICTLab is currently working on two main projects. The first project, SWARMS (Say and Watch: Automated image/sound Recognition for Mobile monitoring Systems), aims to achieve a flexible and real-time monitoring network, where device can used as both passive sensors and active transmitter that can send visual, voice, textual pieces of information to a monitoring system, so that stakeholder can analyze and forecast information. The other project, ARCHIVES (Analysis and Reconstruction of Catastrophes in History within Interactive Virtual Environments and Simulations), focuses on supporting historical research on past disasters with assistance of advance document image processing and analysis, information retrieval, machine learning, Geographical Information System (GIS) representation and agent-based computer modeling. \\

\section{Thesis organization}

The thesis is organized as follow. Excluding the first section, which is Introduction, there are 4 sections. The \nth{2} section discusses about background knowledge related to general paralellization, local parallelism and high performance computing. Section 3 explains the methodology carried out during the internship period. Testing and result are shown in the \nth{4} section, and the last section will conclude the thesis with remarks, limitation and possible future works. 
